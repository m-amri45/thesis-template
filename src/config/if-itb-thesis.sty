%-------------------------------------------------------------------%
%
% LaTeX configuration file for thesis
%
% @author Petra Novandi
%
%-------------------------------------------------------------------%
%
% Original file from Steven Lolong
%
%-------------------------------------------------------------------%

% paper size
\special{papersize=210mm,297mm}

% margin setting
\usepackage[top=3cm,bottom=3cm,left=4cm,right=3cm]{geometry}

% title in Indonesian
\usepackage[english]{babel}

% citation format
\usepackage[style=ieee,backend=biber]{biblatex}

\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{titling}
\usepackage{blindtext}
\usepackage{sectsty}
\usepackage{chngcntr}
\usepackage{etoolbox}
\usepackage{array}
\usepackage[hidelinks]{hyperref}		% package for link in table of contents (use \usepackage[hidelinks]{hyperref} to erase the red box surrounding the link)
\usepackage{titlesec}					% package for the title format 
\usepackage{titletoc}					% package for the title format in table of contents
\usepackage{tocbibind}					% package for the entries of toc, lot, lof to the table of contents
\usepackage{scrwfile}					% package for creating the list of appendix to the table of contents
\usepackage{parskip}
\usepackage{afterpage}
\usepackage{relsize}
\usepackage{longtable}
\usepackage{xcolor, colortbl}
\usepackage{setspace}
\usepackage{tabto}
\usepackage{multicol}
\usepackage[printonlyused,withpage,nolist]{acronym}
\usepackage{caption}
\usepackage{float}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{rotating}
\usepackage{lipsum}
\usepackage{listings}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{nicematrix}
\usepackage{mathptmx}
\usepackage{ragged2e}
\usepackage{inconsolata}

\lstset{basicstyle=\ttfamily,breaklines=true}
\makeatletter
\algrenewcommand\ALG@beginalgorithmic{\ttfamily}
\makeatother

\usepackage[none]{hyphenat}
\sloppy

\renewcommand{\lstlistingname}{Kode} % Listing -> Kode

% \makeatletter
% \algrenewcommand\ALG@beginalgorithmic{\ttfamily}
% \makeatother

\newcommand{\alghighlight}[2]{
	\hspace*{-\fboxsep}\colorbox{#1}{\parbox{\linewidth}{#2}}
}

\graphicspath{{resources/}}   % directory to store images

% setting for the appendix list
\newcommand*{\lopname}{DAFTAR LAMPIRAN}
\TOCclone[\lopname]{toc}{atoc}
\addtocontents{atoc}{\protect\value{tocdepth}=-1}
\newcommand\listofappendices{
	\cleardoublepage
	\phantomsection
	\listofatoc
	\addcontentsline{toc}{chapter}{\lopname}
}

\newcommand*\savedtocdepth{}
\AtBeginDocument{%
	\edef\savedtocdepth{\the\value{tocdepth}}%
}

\newcommand\adjustabledotfill[1]{%
	\leavevmode%
	\cleaders\hbox to #1{.}\hfill%
}

\renewcommand{\thechapter}{\Roman{chapter}}
\renewcommand{\thesection}{\arabic{chapter}.\arabic{section}}

\let\originalappendix\appendix
\renewcommand\appendix{%
	\originalappendix
	\cleardoublepage
	%	\addtocontents{toc}{\protect\value{tocdepth}=-1}%
	%	\addtocontents{atoc}{\protect\value{tocdepth}=\savedtocdepth}%
	
	\titlecontents{chapter}
	[0pt]
	{\bfseries}
	{Lampiran \thecontentslabel.\quad}
	{}
	{\normalfont\adjustabledotfill{1.5mm}{\bfseries\contentspage}}
	
	\titleformat{\chapter}[block]
	{\bfseries}
	{\chaptertitlename\ \thechapter.\quad}{0pt}
	{\bfseries}
	
	\renewcommand\thefigure{\Alph{chapter}.\arabic{figure}}
	\renewcommand\thetable{\Alph{chapter}.\arabic{table}}
	\renewcommand\theequation{\Alph{chapter}.\arabic{equation}}
	\renewcommand\thelstlisting{\Alph{chapter}.\arabic{lstlisting}}
}

% remove the ticks at toc
\makeatletter
\renewcommand{\@dotsep}{1}
\makeatother

% setting for the chapter title at toc, lof, lot
\titlecontents{chapter}
[0pt]
{\bfseries}
{\MakeUppercase{Bab} \thecontentslabel\quad\uppercase}
{}
{\mdseries\titlerule*[0.35em]{.}\bfseries\contentspage}
\titlecontents{figure}
[0pt]
{}
{Gambar \thecontentslabel.\quad}
{}
{\mdseries\titlerule*[0.35em]{.}\contentspage}
\titlecontents{table}
[0pt]
{}
{Tabel \thecontentslabel.\quad}
{}
{\mdseries\titlerule*[0.35em]{.}\contentspage}

% inputing the reference to the toc
\let\originalprintbibliography\printbibliography
\renewcommand\printbibliography{%
	\phantomsection
	\cleardoublepage
	\originalprintbibliography
	\addcontentsline{toc}{chapter}{\bibname}
}

% line with 1.5 space
\renewcommand{\baselinestretch}{1.5}

% setting for the title
\titlespacing*{\chapter}{0pt}{-30pt}{0pt}
\chapterfont{\centering\large}
\titleformat{\chapter}[display]
{\large\centering\bfseries}
{\chaptertitlename\ \thechapter}{0pt}
{\large\bfseries\uppercase}

% setting for the numbering of subchapter
\setcounter{secnumdepth}{3}

\makeatletter

\makeatother

% counter for the figure and table.
\counterwithin{figure}{chapter}
\counterwithin{table}{chapter}

% define a blank page
\newcommand*{\blankpage}{\afterpage{\null\newpage}}

% translate autoref into Indonesian
\renewcommand*{\equationautorefname}{Persamaan}%
\renewcommand*{\footnoteautorefname}{catatan kaki}%
\renewcommand*{\itemautorefname}{item}%
\renewcommand*{\figureautorefname}{Gambar}%
\renewcommand*{\tableautorefname}{Tabel}%
\renewcommand*{\partautorefname}{Bagian}%
\renewcommand*{\appendixautorefname}{Lampiran}%
\renewcommand*{\chapterautorefname}{Bab}%
\renewcommand*{\sectionautorefname}{Subbab}%
\renewcommand*{\subsectionautorefname}{Subsubbab}%
\renewcommand*{\subsubsectionautorefname}{Subsubsubbab}%
\renewcommand*{\paragraphautorefname}{paragraf}%
\renewcommand*{\subparagraphautorefname}{subparagraf}%
\renewcommand*{\FancyVerbLineautorefname}{garis}%
\renewcommand*{\theoremautorefname}{Teorema}%
\renewcommand*{\pageautorefname}{halaman}%
\renewcommand\thefigure{\arabic{chapter}.\arabic{figure}}
\renewcommand\thetable{\arabic{chapter}.\arabic{table}}
\renewcommand\theequation{\arabic{chapter}.\arabic{equation}}
\AtBeginDocument{
	\renewcommand\thelstlisting{\arabic{chapter}.\arabic{lstlisting}}
}
